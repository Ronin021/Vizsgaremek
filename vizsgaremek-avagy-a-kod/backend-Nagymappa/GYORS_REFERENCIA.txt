GYORS REFERENCIA - BACKEND CHECKPOINT 1
======================================

INSTALLÁCIÓ & FUTTATÁS:
=======================
1. npm install                    # Csomagok telepítése
2. mysql -u root < vizsgaremek.sql   # Adatbázis létrehozása
3. cp .env.example .env           # Environment fájl másolása
4. npm run build                  # TypeScript fordítása
5. node lib/index.js              # Server indítása


FÁJLSTRUKTÚRA MAGYARÁZAT:
=========================

Models (src/models/)
  └─ Definiálnak adatstruktúrákat (interface)
  └─ Pl: Product, Category, User, Order, OrderItem

DTO (src/dto/)
  └─ Azt jelenti, amit a kliens küld POST/PUT-ban
  └─ Nincs ID-je, az az adatbázis generálja

Services (src/services/)
  └─ Adatbázis CRUD műveletek
  └─ Pl: createProduct, getAllProducts, updateProduct, deleteProduct

Controllers (src/controllers/)
  └─ Kérést feldolgozza → Service → Response
  └─ HTTP státusz kódok (200, 201, 404, 500)

Routes (src/routes/)
  └─ URL végpontokat definiálja
  └─ GET /api/products → controller.getAllProducts
  └─ POST /api/products → controller.createProduct

Index/App (src/)
  └─ index.ts: Server indítása (npm start)
  └─ app.ts: Express konfigurálása, routes regisztrálása
  └─ db.ts: MySQL pool kapcsolat


ADATBÁZIS TÁBLÁK:
=================
- categories       (kategóriák)
- products         (termékek, FK: category_id)
- users            (felhasználók)
- orders           (rendelések, FK: user_id)
- order_items      (tételek, FK: order_id, product_id)


API VÉGPONTOK TEMPLATE:
=======================
Minden entitásnak ugyanez a 5 alapvégpontja:

GET    /api/{entity}           200 → Array
GET    /api/{entity}/:id       200 → Object | 404
POST   /api/{entity}           201 → { id, message }
PUT    /api/{entity}/:id       200 → { message } | 404
DELETE /api/{entity}/:id       200 → { message } | 404

Pl:
GET    /api/products
GET    /api/products/1
POST   /api/products
PUT    /api/products/1
DELETE /api/products/1

Request body (POST/PUT):
{
  "name": "...",
  "category_id": 1,
  "price": 50000,
  "description": "...",
  "stock": 10
}


KÓDMINTÁK:
==========

Service (src/services/productService.ts):
export const getAllProducts = async () => {
  const connection = await pool.getConnection();
  const [rows] = await connection.query('SELECT * FROM products');
  connection.release();
  return rows as Product[];
};

Controller (src/controllers/productController.ts):
export const getAllProducts = async (req, res) => {
  try {
    const products = await productService.getAllProducts();
    res.json(products);
  } catch (error) {
    res.status(500).json({ error: 'Hiba történt' });
  }
};

Route (src/routes/products.ts):
router.get('/', productController.getAllProducts);
router.post('/', productController.createProduct);


TESZTELÉS:
==========
Postman vagy REST Client (VSCode) segítségével:

1. GET http://localhost:3000/api/products
   Válasz: Array of products

2. POST http://localhost:3000/api/products
   Body: {
     "name": "Teszt",
     "category_id": 1,
     "price": 100,
     "description": "Test",
     "stock": 5
   }
   Válasz: { "id": 11, "message": "Sikeres" }

3. GET http://localhost:3000/api/products/1
   Válasz: { id: 1, name: "Modern Kanapé", ... }

4. PUT http://localhost:3000/api/products/1
   Body: { ... }
   Válasz: { "message": "Frissítve" }

5. DELETE http://localhost:3000/api/products/1
   Válasz: { "message": "Törölve" }


GYAKORI HIBÁK:
==============
1. Module not found
   └─ npm install nem futott, vagy hiányzik a dependency

2. Cannot connect to database
   └─ Adatbázis nem fut, vagy .env hibás

3. 404 Not found
   └─ Route-ot nem regisztrálták app.ts-ben

4. 500 Internal Server Error
   └─ SQL hiba vagy JS syntax hiba


MEGJEGYZÉSEK:
=============
- Ez VIZSGAREMEK szintű kód!
- Egyszerű és érthető
- Produkciós verzióban:
  * Input validáció szükséges
  * Error logging
  * Rate limiting
  * Biztonságosabb jelszó titkosítás (bcrypt)
  * Jól implementált JWT


CHECKPOINT 1 MILESTONES:
=======================
✅ Models definiálva
✅ Services megírva
✅ Controllers definiálva
✅ Routes-ok beállítva
✅ Adatbázis szinkron
✅ CRUD működik
✅ Dokumentáció kész


KÖVETKEZŐ CHECKPOINT 2:
=======================
- Authentication (login/register)
- Input validáció
- Unit tesztek
- Error handling finomítása
